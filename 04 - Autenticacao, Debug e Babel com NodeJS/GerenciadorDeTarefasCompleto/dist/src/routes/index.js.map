{"version":3,"sources":["../../../src/routes/index.js"],"names":["debug","require","basename","module","filename","loadRoutes","app","appPath","readdirSync","__dirname","filter","file","indexOf","slice","forEach","routeFile","join","route","default","routePath","path","use","router"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA,IAAMA,QAAQC,QAAQ,OAAR,EAAiB,aAAjB,CAAd;;AAEA,IAAMC,WAAW,eAAKA,QAAL,CAAcC,OAAOC,QAArB,CAAjB;;AAEA;;;;AAIA,IAAMC,aAAa,SAAbA,UAAa,CAACC,GAAD,EAAMC,OAAN;AAAA,WACf,aAAGC,WAAH,CAAeC,SAAf,EACKC,MADL,CACY,UAACC,IAAD,EAAU;AACd,eAAQA,KAAKC,OAAL,CAAa,GAAb,MAAsB,CAAvB,IAA8BD,SAAST,QAAvC,IAAqDS,KAAKE,KAAL,CAAW,CAAC,CAAZ,MAAmB,KAA/E;AACH,KAHL,EAIKC,OAJL,CAIa,UAACH,IAAD,EAAU;AACf,YAAMI,YAAY,eAAKC,IAAL,CAAUP,SAAV,EAAqBE,IAArB,CAAlB;AACA,YAAMM,QAAQhB,QAAQc,SAAR,EAAmBG,OAAnB,IAA8BjB,QAAQc,SAAR,CAA5C;AACA,YAAMI,YAAY,uBAAQZ,OAAR,EAAiBU,MAAMG,IAAvB,CAAlB;AACApB,cAAM,cAAcmB,SAApB;AACAb,YAAIe,GAAJ,CAAQF,SAAR,EAAmBF,MAAMK,MAAzB;AACH,KAVL,CADe;AAAA,CAAnB;;kBAaejB,U","file":"index.js","sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport urlJoin from 'url-join';\nimport { Application } from 'express';\nconst debug = require('debug')('http:routes');\n\nconst basename = path.basename(module.filename);\n\n/**\n * Faz a leutira automática de todos os arquivos de dentro do diretório 'routes'.\n * @param {Application} app \n */\nconst loadRoutes = (app, appPath) =>\n    fs.readdirSync(__dirname)\n        .filter((file) => {\n            return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n        })\n        .forEach((file) => {\n            const routeFile = path.join(__dirname, file);\n            const route = require(routeFile).default || require(routeFile);\n            const routePath = urlJoin(appPath, route.path);\n            debug(\"Loading: \" + routePath);\n            app.use(routePath, route.router);\n        });\n\nexport default loadRoutes;"]}